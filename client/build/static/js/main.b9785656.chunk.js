(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{26:function(e,a,t){e.exports=t(56)},31:function(e,a,t){},32:function(e,a,t){},56:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(24),c=t.n(r),o=t(16),s=t(7);var i=function({children:e}){return l.a.createElement("div",{style:{height:200,clear:"both",paddingTop:40,textAlign:"center"},className:"jumbotron"},e)};t(31);var m=function(e){return l.a.createElement("span",Object.assign({className:"btn btn-warning"},e,{role:"button"}),e.children)};function u(e){return l.a.createElement("div",{className:"form-group"},l.a.createElement("input",Object.assign({className:"form-control"},e)))}function E(e){return l.a.createElement("button",Object.assign({},e,{style:{marginBottom:10},className:"btn btn-success"}),e.children)}t(32);function h({children:e}){return l.a.createElement("div",{className:"list-overflow-container"},l.a.createElement("ul",{className:"list-group"},e))}function d({children:e}){return l.a.createElement("li",{className:"list-group-item"},e)}var b=t(9),f=t.n(b),v=function(){return f.a.get("/api/books")},p=function(e){return f.a.get("/api/books/"+e)},g=function(e){return f.a.delete("/api/books/"+e)},k=function(e){return f.a.post("/api/books",e)},N=function(e){return f.a.get("https://www.googleapis.com/books/v1/volumes?q="+e)};var j=function(e,{children:a}){const t=e.book,n=t.authors,r=t.canonicalVolumeLink,c=t.description,o=t.imageLinks,s=t.publisher,i=t.publishedDate,u=t.title;return console.log(e.book),l.a.createElement(d,null,l.a.createElement("img",{alt:"book cover",className:"float-left",src:o&&o.thumbnail||"http://via.placeholder.com/128/FFFFFF?text=No%20image"}),l.a.createElement("h5",null,l.a.createElement("a",{href:r},u)),l.a.createElement("p",null,n&&n.length>1?"Authors":"Author"," ",n&&n.map(e=>e)||"n/a"),l.a.createElement("p",null,"Publisher: ",s||"n/a"),l.a.createElement("p",null,"Published Date: ",i||"n/a"),l.a.createElement("br",null),e.saved||l.a.createElement("p",null,l.a.createElement(E,{onClick:()=>{console.log(e.book),k({author:n,canonicalVolumeLink:r,description:c,imageLinks:o,publisher:s,publishedDate:i,title:u}).then(console.log("saved a favorite")).catch(e=>console.log(e))}},"Save")),e.saved&&l.a.createElement("p",null,l.a.createElement(m,{onClick:()=>e.deleteBook(e.book._id)},"Remove")),a)};var O=function(e,{children:a}){return l.a.createElement(h,{className:"list-group"},e.searchResults.map((e,a)=>l.a.createElement(j,{book:e.volumeInfo,key:a})),a)};var S=function(){const e=Object(n.useState)({}),a=Object(s.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)([]),m=Object(s.a)(c,2),h=m[0],d=m[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(i,null,l.a.createElement("h1",null,"react-gb-search"),l.a.createElement("h4",null,"Search for and Save Books of Interest")),l.a.createElement("div",{className:"container"},l.a.createElement("form",null,l.a.createElement(u,{onChange:function(e){const a=e.target,n=a.name,l=a.value;r(Object(o.a)(Object(o.a)({},t),{},{[n]:l}))},name:"search",placeholder:"Search by title or author"}),l.a.createElement(E,{disabled:!t.search,onClick:function(e){e.preventDefault(),t.search&&N(t.search).then(e=>{d(e.data.items)}).catch(e=>console.log(e))}},"Search")),l.a.createElement(O,{style:{margin:"20px"},searchResults:h})))};function y({fluid:e,children:a}){return l.a.createElement("div",{className:"container".concat(e?"-fluid":"")},a)}function w({fluid:e,children:a}){return l.a.createElement("div",{className:"row".concat(e?"-fluid":"")},a)}function x({size:e,children:a}){return l.a.createElement("div",{className:e.split(" ").map(e=>"col-"+e).join(" ")},a)}var F=function(){const e=Object(n.useState)([]),a=Object(s.a)(e,2),t=a[0],r=a[1];function c(){v().then(e=>r(e.data)).catch(e=>console.log(e))}function o(e){g(e).then(e=>c()).catch(e=>console.log(e))}return Object(n.useEffect)(()=>{c()},[]),l.a.createElement(y,{fluid:!0},l.a.createElement(i,null,l.a.createElement("h1",null,"react-gb-search"),l.a.createElement("h4",null,"Search for and Save Books of Interest")),t.length?l.a.createElement(h,null,t.map(e=>l.a.createElement(l.a.Fragment,null,l.a.createElement(j,{book:e,deleteBook:o,key:e._id,saved:!0})))):l.a.createElement("h3",null,"No Results to Display"))},B=t(1),C=t(11);var D=function(){const e=Object(n.useState)({}),a=Object(s.a)(e,2),t=a[0],r=a[1],c=Object(B.f)().id;return Object(n.useEffect)(()=>{p(c).then(e=>r(e.data)).catch(e=>console.log(e))},[c]),l.a.createElement(y,{fluid:!0},l.a.createElement(w,null,l.a.createElement(x,{size:"md-12"},l.a.createElement(i,null,l.a.createElement("h1",null,t.title," by ",t.author)))),l.a.createElement(w,null,l.a.createElement(x,{size:"md-10 md-offset-1"},l.a.createElement("article",null,l.a.createElement("h1",null,"Description"),l.a.createElement("p",null,t.description)))),l.a.createElement(w,null,l.a.createElement(x,{size:"md-2"},l.a.createElement(C.b,{to:"/"},"\u2190 Back to Authors"))))};var z=function(){return l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},l.a.createElement("a",{className:"navbar-brand",href:"/"},"react-gb-search"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarColor01","aria-controls":"navbarColor01","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarColor01"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"/search"},"Search")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"/saved"},"Saved")))))};var A=function(){return l.a.createElement(C.a,null,l.a.createElement(z,null),l.a.createElement("div",null,l.a.createElement(B.c,null,l.a.createElement(B.a,{exact:!0,path:"/"},l.a.createElement(S,null)),l.a.createElement(B.a,{exact:!0,path:"/saved"},l.a.createElement(F,null)),l.a.createElement(B.a,{path:"/saved/:id",children:l.a.createElement(D,null)}),l.a.createElement(B.a,null,l.a.createElement(S,null)))))};c.a.render(l.a.createElement(A,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.b9785656.chunk.js.map