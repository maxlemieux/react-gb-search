(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{26:function(e,a,t){e.exports=t(56)},31:function(e,a,t){},32:function(e,a,t){},56:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(24),c=t.n(r),o=t(16),s=t(7);var m=function({children:e}){return l.a.createElement("div",{style:{height:200,clear:"both",paddingTop:40,textAlign:"center"},className:"jumbotron"},e)};function i({fluid:e,children:a}){return l.a.createElement("div",{className:"container".concat(e?"-fluid":"")},a)}function u({fluid:e,children:a}){return l.a.createElement("div",{className:"row".concat(e?"-fluid":"")},a)}function E({size:e,children:a}){return l.a.createElement("div",{className:e.split(" ").map(e=>"col-"+e).join(" ")},a)}t(31);var h=function(e){return l.a.createElement("span",Object.assign({className:"btn btn-warning"},e,{role:"button"}),e.children)};function d(e){return l.a.createElement("div",{className:"form-group"},l.a.createElement("input",Object.assign({className:"form-control"},e)))}function b(e){return l.a.createElement("button",Object.assign({},e,{style:{marginBottom:10},className:"btn btn-success"}),e.children)}t(32);function f({children:e}){return l.a.createElement("div",{className:"list-overflow-container"},l.a.createElement("ul",{className:"list-group"},e))}function v({children:e}){return l.a.createElement("li",{className:"list-group-item"},e)}var p=t(9),g=t.n(p),k=function(){return g.a.get("/api/books")},N=function(e){return g.a.get("/api/books/"+e)},j=function(e){return g.a.delete("/api/books/"+e)},O=function(e){return g.a.post("/api/books",e)},S=function(e){return g.a.get("https://www.googleapis.com/books/v1/volumes?q="+e)};var y=function(e,{children:a}){const t=e.book,n=t.authors,r=t.canonicalVolumeLink,c=t.description,o=t.imageLinks,s=t.publisher,m=t.publishedDate,d=t.title;return console.log(e.book),l.a.createElement(v,null,l.a.createElement(i,null,l.a.createElement(u,null,l.a.createElement(E,{size:"md-2"},l.a.createElement("img",{alt:"book cover",className:"float-left",src:o&&o.thumbnail||"http://via.placeholder.com/128/FFFFFF?text=No%20image"})),l.a.createElement(E,{size:"md-10"},l.a.createElement("h6",null,"Title:"),l.a.createElement("p",null,l.a.createElement("a",{href:r},d)),l.a.createElement("h6",null,n&&n.length>1?"Authors:":"Author:"),l.a.createElement("p",null,n&&n.map(e=>l.a.createElement(l.a.Fragment,null,e,l.a.createElement("br",null)))||"n/a"),l.a.createElement("h6",null,"Publisher:"),l.a.createElement("p",null,s||"n/a"),l.a.createElement("p",null,"Published Date: ",new Date(m).toLocaleDateString()||"n/a"),l.a.createElement("br",null),e.saved||l.a.createElement("p",null,l.a.createElement(b,{onClick:()=>{console.log(e.book),O({authors:n,canonicalVolumeLink:r,description:c,imageLinks:o,publisher:s,publishedDate:m,title:d}).then(console.log("saved a favorite")).catch(e=>console.log(e))}},"Save")),e.saved&&l.a.createElement("p",null,l.a.createElement(h,{onClick:()=>e.deleteBook(e.book._id)},"Remove"))))),a)};var w=function(e,{children:a}){return l.a.createElement(f,{className:"list-group"},e.searchResults.map((e,a)=>l.a.createElement(y,{book:e.volumeInfo,key:a})),a)};var x=function(){const e=Object(n.useState)({}),a=Object(s.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)([]),i=Object(s.a)(c,2),u=i[0],E=i[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(m,null,l.a.createElement("h1",null,"react-gb-search"),l.a.createElement("h4",null,"Search for and Save Books of Interest")),l.a.createElement("div",{className:"container"},l.a.createElement("form",null,l.a.createElement(d,{onChange:function(e){const a=e.target,n=a.name,l=a.value;r(Object(o.a)(Object(o.a)({},t),{},{[n]:l}))},name:"search",placeholder:"Search by title or author"}),l.a.createElement(b,{disabled:!t.search,onClick:function(e){e.preventDefault(),t.search&&S(t.search).then(e=>{E(e.data.items)}).catch(e=>console.log(e))}},"Search")),l.a.createElement(w,{style:{margin:"20px"},searchResults:u})))};var D=function(){const e=Object(n.useState)([]),a=Object(s.a)(e,2),t=a[0],r=a[1];function c(){k().then(e=>r(e.data)).catch(e=>console.log(e))}function o(e){j(e).then(e=>c()).catch(e=>console.log(e))}return Object(n.useEffect)(()=>{c()},[]),l.a.createElement(i,{fluid:!0},l.a.createElement(m,null,l.a.createElement("h1",null,"react-gb-search"),l.a.createElement("h4",null,"Search for and Save Books of Interest")),t.length?l.a.createElement(f,null,t.map(e=>l.a.createElement(y,{book:e,deleteBook:o,key:e._id,saved:!0}))):l.a.createElement("h3",null,"No Results to Display"))},F=t(1),B=t(11);var C=function(){const e=Object(n.useState)({}),a=Object(s.a)(e,2),t=a[0],r=a[1],c=Object(F.f)().id;return Object(n.useEffect)(()=>{N(c).then(e=>r(e.data)).catch(e=>console.log(e))},[c]),l.a.createElement(i,{fluid:!0},l.a.createElement(u,null,l.a.createElement(E,{size:"md-12"},l.a.createElement(m,null,l.a.createElement("h1",null,t.title," by ",t.author)))),l.a.createElement(u,null,l.a.createElement(E,{size:"md-10 md-offset-1"},l.a.createElement("article",null,l.a.createElement("h1",null,"Description"),l.a.createElement("p",null,t.description)))),l.a.createElement(u,null,l.a.createElement(E,{size:"md-2"},l.a.createElement(B.b,{to:"/"},"\u2190 Back to Authors"))))};var z=function(){return l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},l.a.createElement("a",{className:"navbar-brand",href:"/"},"react-gb-search"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarColor01","aria-controls":"navbarColor01","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarColor01"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"/search"},"Search")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"/saved"},"Saved")))))};var L=function(){return l.a.createElement(B.a,null,l.a.createElement(z,null),l.a.createElement("div",null,l.a.createElement(F.c,null,l.a.createElement(F.a,{exact:!0,path:"/"},l.a.createElement(x,null)),l.a.createElement(F.a,{exact:!0,path:"/saved"},l.a.createElement(D,null)),l.a.createElement(F.a,{path:"/saved/:id",children:l.a.createElement(C,null)}),l.a.createElement(F.a,null,l.a.createElement(x,null)))))};c.a.render(l.a.createElement(L,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.bb2c2b48.chunk.js.map